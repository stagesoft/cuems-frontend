<div class="py-4">
  <div class="flex items-center justify-between p-4 border-b">
    <h2 class="text-lg font-semibold">Sequence</h2>
  </div>

  <div class="flex-1 relative overflow-hidden">
    <div class="mt-8 flow-root transition-all duration-300" 
         [style.margin-right.px]="drawerService.isActivityDrawerOpen() ? DRAWER_WIDTH : 0"
         *ngIf="project?.CuemsScript?.CueList?.contents && project.CuemsScript.CueList.contents.length > 0">
      <div class="-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
      <div class="inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8">
        <table class="min-w-full divide-y divide-gray-300">
          <thead>
            <tr>
              <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider" style="min-width: 28px;"><!-- Type Icon --></th>
              <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider" style="min-width: 60px;">#</th>
              <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider" style="min-width: 240px;">Name</th>
              <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider" style="min-width: 120px;">Duration</th>
              <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider" style="min-width: 120px;">Prewait</th>
              <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider" style="min-width: 120px;">Postwait</th>
              <th scope="col" class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider" style="min-width: 60px;">Action</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200">
            <tr *ngFor="let cueItem of project.CuemsScript.CueList.contents; let i = index"
                [class]="getCuePlaybackClasses(cueItem)"
                class="hover:bg-dark-200 transition-colors">
              <!-- Type Icon -->
              <td class="px-4 py-3">
                <app-icon [icon]="getCueTypeIcon(cueItem)" class="w-[16px] h-[16px]"></app-icon>
              </td>
              <!-- Order with zero padding -->
              <td class="px-4 py-3 text-sm font-medium">
                {{ formatOrderNumber(i + 1) }}
              </td>
              <!-- Name with truncate -->
              <td class="px-4 py-3 text-sm" style="max-width: 240px;">
                <div class="overflow-hidden text-ellipsis whitespace-nowrap">
                  {{ getCueName(cueItem) }}
                </div>
              </td>

              <td class="px-4 py-3 text-sm">
                {{ getCueDuration(cueItem) }}
              </td>

              <td class="px-4 py-3 text-sm">
                {{ getCuePrewait(cueItem) }}
              </td>

              <td class="px-4 py-3 text-sm">
                {{ getCuePostwait(cueItem) }}
              </td>

              <td class="px-4 py-3">
                <app-icon [icon]="getCueActionIcon(cueItem)" class="w-8 h-8 fill-red-500"></app-icon>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    </div>

    <div *ngIf="!project?.CuemsScript?.CueList?.contents || project.CuemsScript.CueList.contents.length === 0" 
         class="py-8 text-center transition-all duration-300"
         [style.margin-right.px]="drawerService.isActivityDrawerOpen() ? DRAWER_WIDTH : 0">
      <app-icon icon="action" class="mx-auto h-12 w-12 text-gray-400"></app-icon>
      <h3 class="mt-2 text-sm font-medium text-gray-300">No cues</h3>
      <p class="mt-1 text-sm text-gray-500">This project doesn't have any cues yet.</p>
    </div>

    <app-activity-drawer></app-activity-drawer>

  </div>
</div>
